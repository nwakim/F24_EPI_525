---
title: "Homework 4"
subtitle: "Lessons 7-8"
author: "Your name here - update this!!!!"
date: "Due 10/31/24"
format: 
  html:
    link-external-newwindow: true
    toc: true
    toc_float:
      collapsed: false
    number-sections: true
    number-depth: 3
    theme: lumen
    self-contained: true
    html-math-method: mathjax
---

```{r}
#| label: "setup"
#| include: false
knitr::opts_chunk$set(echo = TRUE)
```

- Assignment due 11/1
- Solutions due 11/10

## Directions {.unnumbered}

[Please turn in this homework on Sakai.](https://sakai.ohsu.edu/portal/site/EPI-525-1-15028-F24/tool/137d7c54-61a9-4727-9018-374c3773c508) Please submit your homework in pdf format. You can type your work on your computer or submit a single file with photos of your written work or any other method that can be turned into a pdf. The Adobe Scan phone app is an easy way to scan photos and compile into a PDF. Please let me know if you greatly prefer to submit a physical copy. We can work out another way for you to turn in homework.

You can download the .qmd file for this assignment from [Github](https://github.com/nwakim/F24_EPI_525/blob/main/homework/HW_03.qmd) if you want to work in a Quarto doc. **You do not need to work in a Quarto doc for this homework!!**

## Directions {.unnumbered}

:::{.callout-important}
* The R exercises are to be completed using Quarto.
:::

* Please upload your homework to Sakai. __Upload both your .qmd code file and the rendered .html file__.
* For each question, make sure to include all code and resulting output in the html file to support your answers. 

:::{.callout-tip}
It is a good idea to try rendering your document from time to time as you go along!  Note that rendering automatically saves your Qmd file and rendering frequently helps you catch your errors more quickly.
:::

# Book exercises

## 3.38 Stenographerâ€™s typos {.unnumbered}



## 3.40 Osteosarcoma in NYC {.unnumbered}

Only parts a-c

## 1.24 Income and education in US counties {.unnumbered}


## 1.28 Mix-and-match {.unnumbered}



## 1.36 Associations {.unnumbered}

# R exercises 

## Load all the packages you need below here. 


# R1: NHANES

* Below you will be using the dataset called NHANES from the `NHANES` R package. 
* Install and load the NHANES package using the code below.
    * This loads the dataset also called NHANES that is within the NHANES package.

```{r eval=FALSE}
install.packages("NHANES")
```

```{r}
library(NHANES)
data("NHANES")
```


> The National Health and Nutrition Examination Survey (NHANES) is a survey conducted annually by the US National Center for Health Statistics (NCHS). While the original data uses a survey design that oversamples certain subpopulations, the data have been reweighted to undo oversampling effects and can be treated as if it were a simple random sample from the American population.

* To view the complete list of study variables and their descriptions, access the NHANES documentation page with `?NHANES`. 
  * You must first install the `NHANES` package to see the help files.


## What are the dimensions and column names of the dataset?



## How many unique ID identifiers are in the dataset? Compare this to the number of rows in the dataset. What is the explanation for these two different numbers?  



## Using numerical and graphical summaries, describe the distribution of ages among study participants.




## Using numerical and graphical summaries, describe the distribution of heights among study participants.



## Investigate at which age people generally reach their adult height. Is it possible to do the same for weight; why or why not? 

*Use whatever EDA tools you think are appropriate to answer this question.*




## Calculate the median and interquartile range of the distribution of the variable `Poverty`. Write a sentence explaining the median and IQR in the context of these data.


# R2: NHANES

Continue using the same NHANES data as for the previous problem. 


:::{.callout-warning}

* For most of the summary statistic base R commands (such as `mean()`, `sd()`, `median()`, etc.), you will get `NA` as the result if there are missing values. 
* In order for R to compute the statistic using the values in the data set, you need to tell R to remove the missing values using the `na.rm = TRUE` option within the parentheses of the command: `mean(dataset$variablename, na.rm = TRUE)`. 
:::

## Use the `mutate()` command explained on Slide 23 (pdf pg 22) of the Day 3 Part 3 notes to create a new column (variable) in the NHANES dataset for the heights in inches. Then find the mean and standard deviation of the heights in inches. Note that 1 centimeter is approximately 0.3937 inches.

:::{.callout-tip}

## Tips

* Column names cannot start with a number or symbol
* Names are case sensitive
* It's easier to work with column names that don't have spaces in them. I usually use _ or . instead of spaces.
:::

## What proportion of Americans at least 25 years of age are college graduates?
*Hint: First create a new dataset that is restricted to Americans at least 25 years old.*




## What proportion of Americans at least 25 years of age with a high school degree are college graduates?



## Two-way table

__Construct a two-way table (contingency table), with `PhysActive` as the row variable and `Diabetes` as the column variable. Among participants who are not physically active, what proportion have diabetes? What proportion of physically active participants have diabetes?__



## Relative Risk

__In this context, relative risk is the ratio of the proportion of participants who have diabetes among those who are not physically active to the proportion of participants with diabetes among those physically active. Relative risks greater than 1 indicate that people who are not physically active seem to be at a higher risk for diabetes than physically active people. Calculate the relative risk of diabetes for the participants. From these calculations, is it possible to conclude that being physically active reduces one's chance of becoming diabetic?__




## Load all the packages you need below here. 


## R1: Youth weights

In this exercise you will use the YRBSS dataset we used in class on Day 8, to simulate the distribution of mean weights from repeated samples. Use the code from class where we simulated mean heights, and apply it to the weights (in pounds) as directed below. 


:::{.callout-important}

You will need to install and load the `moderndive` R package to use the `rep_sample_n()` command from the class notes.

:::


### Use the `set.seed()` command to set a randomization seed. Use whatever number you want for the seed.



### Take 1000 random samples of size 10 and save the tibble with the random samples. Show the first 20 lines of this tibble.



### Create a tibble with mean weights from the 1000 random samples. Show the first 10 rows of this tibble.



### Make a histogram of the 1000 mean weights. What do we call this distribution? Describe the shape of the distribution.


### Calculate the mean and standard deviation of the 1000 sample mean weights. What is another name for this standard deviation?



### What are the theoretical values for mean and standard deviation of the sampling distribution from the CLT, and how do your simulated values compare to the theoretical values?


