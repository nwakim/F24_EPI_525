{
  "hash": "c922899c62642e6f199f3ee01473c3d2",
  "result": {
    "markdown": "---\ntitle: \"R05: Quarto in R\"\nauthor: \"Meike Niederhausen and Nicky Wakim\"\ntitle-slide-attributes:\n    data-background-color: \"#3070BF\"\ndate: \"10/14/2024\"\nformat: \n  revealjs:\n    theme: \"../simple_NW.scss\"\n    chalkboard: true\n    slide-number: true\n    show-slide-number: all\n    width: 1955\n    height: 1100\n    footer: R05 Slides\n    html-math-method: mathjax\n    highlight-style: arrow\nexecute:\n  echo: true\n  freeze: auto\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n\n# Saving your work with Quarto\n\n![[Artwork by \\@allison_horst](https://allisonhorst.com/r-packages-functions)](../img_slides/horst_rmarkdown_wizards_quarto.png){fig-align=\"center\"}\n\n## Example: creating an html file\n\n:::::: columns\n::: {.column width=\"48%\"}\n### `.qmd` file\n\n![](../img_slides/01_qmd_screenshot.png){fig-align=\"center\" width=\"696\"}\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"48%\"}\n### `.html` output\n\n![](../img_slides/default_quarto_html.png){fig-align=\"center\" width=\"718\"}\n:::\n::::::\n\n## Quarto = `.qmd` file = Code + text\n\n[We can take `.qmd` files containing code (R and other types) + plain text (like we might make in Word)]{style=\"color:#BF396F\"}, and then to it [other formats (html, pdf, Word, etc) that nicely display the code and text!]{style=\"color:#367B79\"}\n\n![[Artwork from \"Hello, Quarto\" keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio Conference 2022. Illustrated by Allison Horst.](https://allisonhorst.com/cetinkaya-rundel-lowndes-quarto-keynote)](../img_slides/horst_quarto_schematic2.png){fig-align=\"center\"}\n\n# Basic Quarto example\n\n![[Artwork from \"Hello, Quarto\" keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio Conference 2022. Illustrated by Allison Horst.](https://allisonhorst.com/cetinkaya-rundel-lowndes-quarto-keynote)](../img_slides/horst_quarto_moon_penguins.png){fig-align=\"center\"}\n\n## Before we get further in `.qmd` files\n\n-   Let's make sure we all have Rstudio open\n-   And then open your `EPI_525_F24` project!\n\n \n\n### Steps for making a Quarto file\n\n1.  Create a Quarto file (`.qmd`)\n2.  Edit a Quarto file (`.qmd`)\n3.  Save the Quarto file (`.qmd`)\n4.  Create html file\n\n## 1. Create a Quarto file (`.qmd`)\n\n::::: columns\n::: {.column width=\"50%\"}\n**Two options:**\n\n1.  click on File $\\rightarrow$ New File $\\rightarrow$ Quarto Document...$\\rightarrow$ OK,\n2.  or in upper left corner of RStudio click on ![](../img_slides/green_plus_create_file.png){width=\"92\"} $\\rightarrow$ ![](../img_slides/select_quarto_option.png){width=\"333\"}\n\n**Pop-up window selections:**\n\n-   Enter a title and your name\n-   Select `HTML` output format (default)\n-   Engine: select `Knitr`\n-   Editor: Select `Use visual markdown editor`\n-   Click `Create`\n:::\n\n::: {.column width=\"50%\"}\n![](../img_slides/01_qmd_screenshot_popup.png)\n:::\n:::::\n\n## 2. Edit a Quarto file (`.qmd`)\n\n::::: columns\n::: {.column width=\"50%\"}\n-   After clicking on `Create`, you should then see the following in your editor window:\n\n \n\n-   You can try editing the text or changing the code!\n    -   Make sure you are only editing at the \"Quarto\" header and below\n:::\n\n::: {.column width=\"50%\"}\n![](../img_slides/01_qmd_screenshot.png){fig-align=\"center\"}\n:::\n:::::\n\n## 3. Save the Quarto file (`.qmd`)\n\n-   **Save the file** by\n    -   selecting `File -> Save`,\n    -   or clicking on ![](../img_slides/01_Script_Save.png){width=\"51\" height=\"43\"} (towards the left above the scripting window),\n    -   or keyboard shortcut\n        -   PC: *Ctrl + s*\n        -   Mac: *Command + s*\n-   You will need to specify (Use what we learned in last lesson!!)\n    -   a **filename** to save the file as\n        -   ALWAYS use **.qmd** as the filename extension for Quarto files\n    -   the **folder** to save the file in\n    -   Hint: this will probability go under \"R_activities\" and with a name like \"R05_Quarto-work.qmd\"\n\n## 4. Create html file\n\nWe create the html file by **rendering** the .qmd file.\n\nTwo options:\n\n1.  click on the Render icon ![](../img_slides/render_icon.png) at the top of the editor window,\n2.  or use keyboard shortcuts\n    -   Mac: *Command+Shift+K*\n    -   PC: *Ctrl+Shift+K*\n\n-   A new window will open with the html output.\n-   You will now see both .qmd and .html files in the folder where you saved the .qmd file.\n\n::: callout-note\n-   The template .qmd file that RStudio creates will render to an html file by default.\n-   The output format can be changed to create a Word doc, pdf, slides, etc.\n:::\n\n## Tip: changing the render view\n\n- You can change where your `.html` file pops up\n- I have it set to open in the \"Viewer Pane\" in the bottom right\n\n \n\n![](../img_slides/R05_render_view.png)\n\n## `.qmd` vs. its `.html` output\n\n:::::: columns\n::: {.column width=\"48%\"}\n### `.qmd` file\n\n![](../img_slides/01_qmd_screenshot.png){fig-align=\"center\" width=\"696\"}\n:::\n\n::: {.column width=\"4%\"}\n:::\n\n::: {.column width=\"48%\"}\n### `.html` output\n\n![](../img_slides/default_quarto_html.png){fig-align=\"center\" width=\"718\"}\n:::\n::::::\n\n# R Packages\n\n<!-- background-image: url(img/tidyverse_celestial.jpg) -->\n<!-- background-size: cover -->\n\n![](../img_slides/tidyverse_celestial.jpg){fig-align=\"center\"}\n\n## R Packages\n\nA good analogy for R packages is that they are like apps you can download onto a mobile phone:\n\n![[ModernDive Figure 1.4](https://moderndive.netlify.com/1-getting-started.html#packages)](../img_slides/R_vs_R_packages.png){fig-align=\"center\"}\n\n- Packages contain additional functions and data\n\n\n## Installing packages\n\nTwo options to install packages:\n\n1. `install.packages()` _or_\n2. The \"Packages\" tab in Files/Plots/Packages/Help/Viewer window\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"dplyr\")   # only do this ONCE, use quotes\n```\n:::\n\n\n:::columns\n::: {.column width=\"50%\"}\n+ **Only install packages once** *(unless you want to update them)*\n+ Installed from [Comprehensive R Archive Network (CRAN)](https://cran.r-project.org/) = package mothership\n\n:::\n\n::: {.column width=\"50%\"}\n![](../img_slides/screenshot_packages_window.png){fig-align=\"center\"}\n:::\n:::\n\n\n## Video on installing packages\n\n* Danielle Navarro’s YouTube video on __*Installing and loading R packages*__: [https://www.youtube.com/watch?v=kpHZVyDvEhQ](https://www.youtube.com/watch?v=kpHZVyDvEhQ)\n  - If you want to get more information on packages\n\n\n## Load packages with `library()` command\n\n- Tip: at the top of your Rmd file, create a chunk that loads all of the R packages you want to use in that file. \n- Use the `library()` command to load each required package.\n- Packages need to be reloaded *every* time you open Rstudio. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)    # run this every time you open Rstudio\n```\n:::\n\n\n- You can use a function without loading the package with `PackageName::CommandName`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::arrange(iris, Petal.Width)   # what does arrange do?\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species\n1            4.9         3.1          1.5         0.1     setosa\n2            4.8         3.0          1.4         0.1     setosa\n3            4.3         3.0          1.1         0.1     setosa\n4            5.2         4.1          1.5         0.1     setosa\n5            4.9         3.6          1.4         0.1     setosa\n6            5.1         3.5          1.4         0.2     setosa\n7            4.9         3.0          1.4         0.2     setosa\n8            4.7         3.2          1.3         0.2     setosa\n9            4.6         3.1          1.5         0.2     setosa\n10           5.0         3.6          1.4         0.2     setosa\n11           5.0         3.4          1.5         0.2     setosa\n12           4.4         2.9          1.4         0.2     setosa\n13           5.4         3.7          1.5         0.2     setosa\n14           4.8         3.4          1.6         0.2     setosa\n15           5.8         4.0          1.2         0.2     setosa\n16           5.4         3.4          1.7         0.2     setosa\n17           4.6         3.6          1.0         0.2     setosa\n18           4.8         3.4          1.9         0.2     setosa\n19           5.0         3.0          1.6         0.2     setosa\n20           5.2         3.5          1.5         0.2     setosa\n21           5.2         3.4          1.4         0.2     setosa\n22           4.7         3.2          1.6         0.2     setosa\n23           4.8         3.1          1.6         0.2     setosa\n24           5.5         4.2          1.4         0.2     setosa\n25           4.9         3.1          1.5         0.2     setosa\n26           5.0         3.2          1.2         0.2     setosa\n27           5.5         3.5          1.3         0.2     setosa\n28           4.4         3.0          1.3         0.2     setosa\n29           5.1         3.4          1.5         0.2     setosa\n30           4.4         3.2          1.3         0.2     setosa\n31           5.1         3.8          1.6         0.2     setosa\n32           4.6         3.2          1.4         0.2     setosa\n33           5.3         3.7          1.5         0.2     setosa\n34           5.0         3.3          1.4         0.2     setosa\n35           4.6         3.4          1.4         0.3     setosa\n36           5.1         3.5          1.4         0.3     setosa\n37           5.7         3.8          1.7         0.3     setosa\n38           5.1         3.8          1.5         0.3     setosa\n39           5.0         3.5          1.3         0.3     setosa\n40           4.5         2.3          1.3         0.3     setosa\n41           4.8         3.0          1.4         0.3     setosa\n42           5.4         3.9          1.7         0.4     setosa\n43           5.7         4.4          1.5         0.4     setosa\n44           5.4         3.9          1.3         0.4     setosa\n45           5.1         3.7          1.5         0.4     setosa\n46           5.0         3.4          1.6         0.4     setosa\n47           5.4         3.4          1.5         0.4     setosa\n48           5.1         3.8          1.9         0.4     setosa\n49           5.1         3.3          1.7         0.5     setosa\n50           5.0         3.5          1.6         0.6     setosa\n51           4.9         2.4          3.3         1.0 versicolor\n52           5.0         2.0          3.5         1.0 versicolor\n53           6.0         2.2          4.0         1.0 versicolor\n54           5.8         2.7          4.1         1.0 versicolor\n55           5.7         2.6          3.5         1.0 versicolor\n56           5.5         2.4          3.7         1.0 versicolor\n57           5.0         2.3          3.3         1.0 versicolor\n58           5.6         2.5          3.9         1.1 versicolor\n59           5.5         2.4          3.8         1.1 versicolor\n60           5.1         2.5          3.0         1.1 versicolor\n61           6.1         2.8          4.7         1.2 versicolor\n62           5.8         2.7          3.9         1.2 versicolor\n63           5.5         2.6          4.4         1.2 versicolor\n64           5.8         2.6          4.0         1.2 versicolor\n65           5.7         3.0          4.2         1.2 versicolor\n66           5.5         2.3          4.0         1.3 versicolor\n67           5.7         2.8          4.5         1.3 versicolor\n68           6.6         2.9          4.6         1.3 versicolor\n69           5.6         2.9          3.6         1.3 versicolor\n70           6.1         2.8          4.0         1.3 versicolor\n71           6.4         2.9          4.3         1.3 versicolor\n72           6.3         2.3          4.4         1.3 versicolor\n73           5.6         3.0          4.1         1.3 versicolor\n74           5.5         2.5          4.0         1.3 versicolor\n75           5.6         2.7          4.2         1.3 versicolor\n76           5.7         2.9          4.2         1.3 versicolor\n77           6.2         2.9          4.3         1.3 versicolor\n78           5.7         2.8          4.1         1.3 versicolor\n79           7.0         3.2          4.7         1.4 versicolor\n80           5.2         2.7          3.9         1.4 versicolor\n81           6.1         2.9          4.7         1.4 versicolor\n82           6.7         3.1          4.4         1.4 versicolor\n83           6.6         3.0          4.4         1.4 versicolor\n84           6.8         2.8          4.8         1.4 versicolor\n85           6.1         3.0          4.6         1.4 versicolor\n86           6.1         2.6          5.6         1.4  virginica\n87           6.4         3.2          4.5         1.5 versicolor\n88           6.9         3.1          4.9         1.5 versicolor\n89           6.5         2.8          4.6         1.5 versicolor\n90           5.9         3.0          4.2         1.5 versicolor\n91           5.6         3.0          4.5         1.5 versicolor\n92           6.2         2.2          4.5         1.5 versicolor\n93           6.3         2.5          4.9         1.5 versicolor\n94           6.0         2.9          4.5         1.5 versicolor\n95           5.4         3.0          4.5         1.5 versicolor\n96           6.7         3.1          4.7         1.5 versicolor\n97           6.0         2.2          5.0         1.5  virginica\n98           6.3         2.8          5.1         1.5  virginica\n99           6.3         3.3          4.7         1.6 versicolor\n100          6.0         2.7          5.1         1.6 versicolor\n101          6.0         3.4          4.5         1.6 versicolor\n102          7.2         3.0          5.8         1.6  virginica\n103          6.7         3.0          5.0         1.7 versicolor\n104          4.9         2.5          4.5         1.7  virginica\n105          5.9         3.2          4.8         1.8 versicolor\n106          6.3         2.9          5.6         1.8  virginica\n107          7.3         2.9          6.3         1.8  virginica\n108          6.7         2.5          5.8         1.8  virginica\n109          6.5         3.0          5.5         1.8  virginica\n110          6.3         2.7          4.9         1.8  virginica\n111          7.2         3.2          6.0         1.8  virginica\n112          6.2         2.8          4.8         1.8  virginica\n113          6.1         3.0          4.9         1.8  virginica\n114          6.4         3.1          5.5         1.8  virginica\n115          6.0         3.0          4.8         1.8  virginica\n116          5.9         3.0          5.1         1.8  virginica\n117          5.8         2.7          5.1         1.9  virginica\n118          6.4         2.7          5.3         1.9  virginica\n119          7.4         2.8          6.1         1.9  virginica\n120          5.8         2.7          5.1         1.9  virginica\n121          6.3         2.5          5.0         1.9  virginica\n122          6.5         3.2          5.1         2.0  virginica\n123          5.7         2.5          5.0         2.0  virginica\n124          5.6         2.8          4.9         2.0  virginica\n125          7.7         2.8          6.7         2.0  virginica\n126          7.9         3.8          6.4         2.0  virginica\n127          6.5         3.0          5.2         2.0  virginica\n128          7.1         3.0          5.9         2.1  virginica\n129          7.6         3.0          6.6         2.1  virginica\n130          6.8         3.0          5.5         2.1  virginica\n131          6.7         3.3          5.7         2.1  virginica\n132          6.4         2.8          5.6         2.1  virginica\n133          6.9         3.1          5.4         2.1  virginica\n134          6.5         3.0          5.8         2.2  virginica\n135          7.7         3.8          6.7         2.2  virginica\n136          6.4         2.8          5.6         2.2  virginica\n137          6.4         3.2          5.3         2.3  virginica\n138          7.7         2.6          6.9         2.3  virginica\n139          6.9         3.2          5.7         2.3  virginica\n140          7.7         3.0          6.1         2.3  virginica\n141          6.9         3.1          5.1         2.3  virginica\n142          6.8         3.2          5.9         2.3  virginica\n143          6.7         3.0          5.2         2.3  virginica\n144          6.2         3.4          5.4         2.3  virginica\n145          5.8         2.8          5.1         2.4  virginica\n146          6.3         3.4          5.6         2.4  virginica\n147          6.7         3.1          5.6         2.4  virginica\n148          6.3         3.3          6.0         2.5  virginica\n149          7.2         3.6          6.1         2.5  virginica\n150          6.7         3.3          5.7         2.5  virginica\n```\n:::\n:::\n\n\n\n\n\n## Install the packages listed below\n\n::: columns\n::: column\n* `knitr` \n  - this might actually already be installed\n  - check your packages list\n* `tidyverse` \n  - this is actually a bundle of packages\n  - *Warning: it will take a while to install!!!*\n  - see more info at [https://tidyverse.tidyverse.org/](https://tidyverse.tidyverse.org/) \n* `rstatix`\n  - for summary statistics of a dataset\n* `janitor`\n  - for cleaning and exploring data\n:::\n::: column\n* `ggridges`\n  - for creating ridgeline plots\n* `devtools` \n  - used to create R packages\n  - for our purposes, needed to install some packages\n* `oi_biostat_data` \n  - this package is on github \n  - __see the next slide for directions on how to install `oi_biostat_data`__\n* `here`\n  - More info in slides ahead\n:::\n:::\n\n## Directions for installing package `oibiostat` \n\n* The textbook's datasets are in the R package `oibiostat`\n* Explanation of code below\n  * Installation of `oibiostat` package requires first installing `devtools` package\n  * The code `devtools::install_github()` tells R to use the command `install_github()` from the `devtools` package without loading the entire package and all of its commands (which `library(devtools)` would do).\n  \n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"devtools\")\ndevtools::install_github(\"OI-Biostat/oi_biostat_data\", force = TRUE)\n```\n:::\n\n\n* After running the code above, put `#` in front of the commands so that RStudio doesn't evaluate them when rendering.\n* Now load the `oibiostat` package\n  * [the code below needs to be run _every time_ you restart R or knit an Rmd file]{style=\"color:darkorange\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(oibiostat)\n```\n:::\n\n\n## `here` package\n\n![Illustration by [Allison Horst](https://github.com/allisonhorst)](../img_slides/here_pkg.png)\n\n## `here` package\n\n::::: columns\n::: column\n-   [Good source for the `here` package](http://jenrichmond.rbind.io/post/how-to-use-the-here-package/)\n\n    -   Just substitute `.Rmd` with `.qmd`\n\n-   Basically, a `.qmd` file and `.R` file work differently\n\n    -   We haven't worked much with `.R` files\n\n-   For `.qmd` files, the automatic directory is the folder it is in\n\n    -   But we want it to be the main project folder\n\n-   `here` can help with that\n\n \n\n-   **Very important for reproducibility!!**\n:::\n\n::: column\n![](../img_slides/paths.png){fig-align=\"center\"}\n:::\n:::::\n\n## Using `here` package\n\n-   Within your console, type `here()` and enter\n\n    -   Try this with `getwd()` as well\n    \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(here)\nhere()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"/Users/wakim/Library/CloudStorage/OneDrive-OregonHealth&ScienceUniversity/Teaching/Classes/F24_EPI_525/F24_EPI_525_site\"\n```\n:::\n\n```{.r .cell-code}\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"/Users/wakim/Library/CloudStorage/OneDrive-OregonHealth&ScienceUniversity/Teaching/Classes/F24_EPI_525/F24_EPI_525_site\"\n```\n:::\n:::\n\n\n \n\n- `here` can be used whenever we need to access a file path in **R code**\n  - Importing data\n  - Saving output\n  - Accessing files\n\n# Importing data\n\n## Using `here()` to load data\n\n-   The `here()` function will start at the working directory (where your `.Rproj` file is) and let you write out a file path for anything\n\n-   To load the dataset in our `.qmd` file, we will use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\ndata = read_excel(here(\"./data/BodyTemperatures.xlsx\"))\ndata = read_excel(here(\"data\", \"BodyTemperatures.xlsx\"))\n```\n:::\n\n\n::::: red\n::: red-ttl\nWatch out when using lubridate package simultaneously\n:::\n\n::: red-cont\nUse `here::here()` if you have `lubridate` loaded within same `.qmd`. This will tell R to use the function `here()` within the `here` package instead of `lubridate`'s `here()` function. To call lubridate's function, we'd use `lubridate::here()`\n:::\n:::::\n\n## Using `here()` to load the data!\n\n- I put the dataset \"BodyTemperatures.xlsx\" in your student files (under Data then Lessons)\n- Go into those files and download the dataset into your personal class folder \n  - Probably good to put it under \"data\"\n- Within your Quarto file, in an R code chunk, load the data!\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_3881c8d7\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}